<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">
	<h:form
		style="width:100%; background: #CACABC; position: fixed; margin: 0px; text-align:center; z-index:100">
		<rich:panel
			style="width:75%; min-width:800px; margin: 0 auto; height:100px; background-color: #CACABC; border: none; padding: 0;"
			bodyClass="headerBody" id="headerPanel">
			<a4j:outputPanel
				style="position:absolute; left:0; top:0; margin: 5px">
				<h:link outcome="index.xhtml">
					<h:graphicImage url="/resources/img/logo.png"
						style="width: 90px; margin-bottom: 5px" id="logo" />
				</h:link>
				<rich:tooltip value="Mon commentaire" />
			</a4j:outputPanel>
			<ui:include src="view.xhtml" />
			<div style="position: absolute; right: 0; bottom: 0">
				<ui:include src="lang.xhtml" />
				<ui:include src="administrationMenu.xhtml" />
				<ui:include src="pratiqueMenu.xhtml" />
				<ui:include src="reparationMenu.xhtml" />
				<ui:include src="mesureMenu.xhtml" />
				<ui:include src="locationMenu.xhtml" />
				<ui:include src="occasionMenu.xhtml" />
				<ui:include src="neufMenu.xhtml" />
			</div>
		</rich:panel>
	</h:form>
	<h:outputScript>
	//<![CDATA[
	var maxHeightHeader=100;
	var maxHeightLogo=90;
	var minHeightHeader=50;
	var minHeightLogo=45;
	
	$(window).scroll(function(){
		var scrollTop=$(document).scrollTop();
		var heightHeader=maxHeightHeader-scrollTop/5;
		var heightLogo=maxHeightLogo-scrollTop/5;
		if(heightHeader>=minHeightHeader){
			$(#{rich:element('headerPanel')}).css("height",heightHeader);
		}else{
			$(#{rich:element('headerPanel')}).css("height",minHeightHeader);
		}
		if(heightLogo>=minHeightLogo){
			$(#{rich:element('logo')}).css("width",heightLogo);
		} else{
			$(#{rich:element('logo')}).css("width",minHeightLogo);
		}
	});
	//]]>
	</h:outputScript>
</ui:composition>
